webpackJsonp([2],{EV1k:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mvHQ"),n=s.n(a),i=void 0,o={name:"Login",data:function(){return{isLoginLoading:!1,userInfo:{username:"",password:""}}},mounted:function(){i=this},methods:{login:function(){i.$validator.validateAll("userInfo").then(function(t){if(t){var e=JSON.parse(n()(i.userInfo));e.password=i.$md5(e.password).toLowerCase(),i.isLoginLoading=!0,i.$ajax.post("/api/AccessToken/Login",e).then(function(t){t.data.success?(i.$root.Authorization="Bearer "+t.data.data.accessToken,localStorage.setItem("Authorization",i.$root.Authorization),i.$root.menu.navTitle="M_Report",localStorage.setItem("navTitle","M_Report"),i.$root.getUserMenu(),i.$router.push("/report")):(i.isLoginLoading=!1,i.messageNotice("error",t.data.message))})}})}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-view"},[s("div",{attrs:{id:"login-box"}},[t._m(0),t._v(" "),s("div",{staticClass:"login-right"},[t._m(1),t._v(" "),s("div",{staticClass:"login-ipt-box"},[s("div",{staticClass:"title"},[t._v("Log In")]),t._v(" "),s("form",{attrs:{action:"#","data-vv-scope":"userInfo"}},[s("div",{staticClass:"login-ipt-text"},[s("div",{staticClass:"utm-prefix-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.username,expression:"userInfo.username"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"utm-input login-input",class:{"input-error":t.errors.has("userInfo.name")},attrs:{type:"text",name:"name",maxlength:"50",required:"",placeholder:"Account name"},domProps:{value:t.userInfo.username},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.userInfo,"username",e.target.value)}}}),t._v(" "),t._m(2)]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("userInfo.name"),expression:"errors.has('userInfo.name')"}],staticClass:"utm-is-danger login-tips"},[t._v("Username can not be empty")])]),t._v(" "),s("div",{staticClass:"login-ipt-text"},[s("div",{staticClass:"utm-prefix-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.password,expression:"userInfo.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"utm-input login-input",class:{"input-error":t.errors.has("userInfo.password")},attrs:{type:"password",autocomplete:"off",name:"password",maxlength:"50",required:"",placeholder:"Password"},domProps:{value:t.userInfo.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.userInfo,"password",e.target.value)}}}),t._v(" "),t._m(3)]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("userInfo.password"),expression:"errors.has('userInfo.password')"}],staticClass:"utm-is-danger login-tips"},[t._v("Password can not be empty")])])]),t._v(" "),s("button",{staticClass:"utm-btn login-btn utm-blue-bg",style:{cursor:t.isLoginLoading?"not-allowed":"pointer"},attrs:{type:"button",disabled:t.isLoginLoading},on:{click:t.login}},[!1===t.isLoginLoading?s("span",[t._v("Log In")]):s("span",[t._v("Loading...")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-left"},[e("div",{staticClass:"login-left-box"},[e("div",{staticClass:"login-text"},[e("p",[this._v("Integrated Solutions")]),this._v(" "),e("p",[this._v("Making it Possible")])])]),this._v(" "),e("div",{staticClass:"login-footer"},[e("div",{staticClass:"login-text-box"},[this._v("\n          Ultimo Car Park System\n        ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-header"},[e("div",{staticClass:"login-logo"},[e("img",{attrs:{src:s("dLd/"),alt:"logo"}})]),this._v(" "),e("span",{staticClass:"divide-line"}),this._v(" "),e("span",[this._v("Ultimo Car Park System")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"utm-prefix-icon login-icon"},[e("i",{staticClass:"utm-font utm-user-icon "})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"utm-prefix-icon login-icon"},[e("i",{staticClass:"utm-font utm-pass-icon "})])}]};var l=s("VU/8")(o,r,!1,function(t){s("jrpF")},"data-v-1fe3a973",null);e.default=l.exports},"dLd/":function(t,e,s){t.exports=s.p+"static/img/logo.2aeb014.png"},jrpF:function(t,e){}});
//# sourceMappingURL=2.717d7be971a86ff15148.js.map