webpackJsonp([2],{EV1k:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("3cXf"),i=s.n(a),n=void 0,o={name:"Login",data:function(){return{isLoginLoading:!1,userInfo:{username:"",password:""}}},mounted:function(){n=this},methods:{login:function(){n.$validator.validateAll("userInfo").then(function(e){if(e){var t=JSON.parse(i()(n.userInfo));t.password=n.$md5(t.password).toLowerCase(),n.isLoginLoading=!0,n.$ajax.post("/api/AccessToken/Login",t).then(function(e){e.data.success?(n.$root.Authorization="Bearer "+e.data.data.accessToken,localStorage.setItem("Authorization",n.$root.Authorization),n.$root.menu.navTitle="M_Report",localStorage.setItem("navTitle","M_Report"),n.$root.getUserMenu(),n.$router.push("/report")):(n.isLoginLoading=!1,n.messageNotice("error",e.data.message))})}})}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-view"},[s("div",{attrs:{id:"login-box"}},[e._m(0),e._v(" "),s("div",{staticClass:"login-right"},[e._m(1),e._v(" "),s("div",{staticClass:"login-ipt-box"},[s("div",{staticClass:"title"},[e._v("Log In")]),e._v(" "),s("form",{attrs:{action:"#","data-vv-scope":"userInfo"}},[s("div",{staticClass:"login-ipt-text"},[s("div",{staticClass:"utm-prefix-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.username,expression:"userInfo.username"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"utm-input login-input",class:{"input-error":e.errors.has("userInfo.name")},attrs:{type:"text",name:"name",maxlength:"50",required:"",placeholder:"Account name"},domProps:{value:e.userInfo.username},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.userInfo,"username",t.target.value)}}}),e._v(" "),e._m(2)]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("userInfo.name"),expression:"errors.has('userInfo.name')"}],staticClass:"utm-is-danger login-tips"},[e._v("Username can not be empty")])]),e._v(" "),s("div",{staticClass:"login-ipt-text"},[s("div",{staticClass:"utm-prefix-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.password,expression:"userInfo.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"utm-input login-input",class:{"input-error":e.errors.has("userInfo.password")},attrs:{type:"password",autocomplete:"off",name:"password",maxlength:"50",required:"",placeholder:"Password"},domProps:{value:e.userInfo.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.userInfo,"password",t.target.value)}}}),e._v(" "),e._m(3)]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("userInfo.password"),expression:"errors.has('userInfo.password')"}],staticClass:"utm-is-danger login-tips"},[e._v("Password can not be empty")])])]),e._v(" "),s("button",{staticClass:"utm-btn login-btn utm-blue-bg",style:{cursor:e.isLoginLoading?"not-allowed":"pointer"},attrs:{type:"button",disabled:e.isLoginLoading},on:{click:e.login}},[!1===e.isLoginLoading?s("span",[e._v("Log In")]):s("span",[e._v("Loading...")])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"login-left"},[t("div",{staticClass:"login-left-box"},[t("div",{staticClass:"login-text"},[t("p",[this._v("Integrated Solutions")]),this._v(" "),t("p",[this._v("Making it Possible")])])]),this._v(" "),t("div",{staticClass:"login-footer"},[t("div",{staticClass:"login-text-box"},[this._v("\n          Ultimo Car Park System\n        ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"login-header"},[t("div",{staticClass:"login-logo"},[t("img",{attrs:{src:s("dLd/"),alt:"logo"}})]),this._v(" "),t("span",{staticClass:"divide-line"}),this._v(" "),t("span",[this._v("Ultimo Car Park System")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"utm-prefix-icon login-icon"},[t("i",{staticClass:"utm-font utm-user-icon "})])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"utm-prefix-icon login-icon"},[t("i",{staticClass:"utm-font utm-pass-icon "})])}]};var l=s("C7Lr")(o,r,!1,function(e){s("e4ei")},"data-v-1fe3a973",null);t.default=l.exports},"dLd/":function(e,t,s){e.exports=s.p+"static/img/logo.2aeb014.png"},e4ei:function(e,t){}});
//# sourceMappingURL=2.94689a42d9b11c6eb432.js.map